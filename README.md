## Openaiè½¬å‘ä»£ç†æœåŠ¡

### ç®€ä»‹

openai-relayå¯ä»¥ä¸€é”®å¯åŠ¨è½¬å‘openaiè¯·æ±‚çš„æœåŠ¡ã€‚

ç›®å‰æ”¯æŒä¸»æµçš„ä¸¤ä¸ªæ¥å£ï¼š

1. èŠå¤©ï¼š`/chat/completions`ã€‚
2. å‘é‡åŒ–ï¼š`/embeddings`ã€‚



æ‰€æ”¯æŒçš„å¹³å°æœ‰ï¼š

1. openaiå®˜æ–¹ä»¥åŠç¬¬ä¸‰æ–¹ç±»openaiã€‚
2. å¾®è½¯ï¼ˆazureï¼‰ã€‚
3. ç™¾åº¦æ–‡å¿ƒä¸€è¨€ã€‚



é¡¹ç›®ç‰¹æ€§ï¼š

1. fastapiå¼‚æ­¥æ¡†æ¶ã€‚
2. redisç¼“å­˜keyã€‚
3. kafkaæ”¶é›†è¯·æ±‚ä¿¡æ¯ï¼Œå¼‚æ­¥æ›´æ–°tokenï¼Œå¹¶ä¿å­˜æ—¥å¿—ä¿¡æ¯ã€‚



å¿«é€Ÿå¼€å§‹ï¼š

```shell
# æ‰“åŒ…é•œåƒï¼Œä»¥åŠå¯åŠ¨ç›¸å…³ç»„ä»¶çš„æœåŠ¡ï¼Œå¹¶åˆå§‹åŒ–æ•°æ®åº“ã€‚
make

# è‹¥ä½¿ç”¨å·²æœ‰çš„æœåŠ¡
make build

cd deploy
# æ³¨æ„ä¿®æ”¹ç›¸å…³æœåŠ¡çš„åœ°å€
# å¯åŠ¨ä»£ç†æœåŠ¡
docker compose -f docker-compose-relay.yml up -d

# è‹¥ä¸å¯åŠ¨æ­¤æ—¥å¿—ï¼Œå»ºè®®å°†ä¸Šè¿°çš„ymlä¸­æ·»åŠ `SAVE_LOG: false`ç¯å¢ƒå˜é‡
# å¯åŠ¨æ—¥å¿—å¼‚æ­¥å¤„ç†æœåŠ¡
docker compose -f docker-compose-sync.yml up -d
```



`test`ç›®å½•ä¸‹æœ‰ç›¸å…³çš„è°ƒè¯•ã€‚åœ¨æ­£å¼ä½¿ç”¨å‰ï¼Œéœ€è¦æ·»åŠ ä¸€ä¸ªå¯ç”¨çš„keyï¼Œä»¥åŠforward keyï¼Œåœ¨`test`ä¸‹é¢æœ‰æ·»åŠ è„šæœ¬ã€‚







æ„Ÿè°¢é¡¹ç›®ï¼š

[one-api: OpenAI æ¥å£ç®¡ç† & åˆ†å‘ç³»ç»Ÿ](https://github.com/songquanpeng/one-api)

[openai-forward: ğŸš€ ä¸€é”®éƒ¨ç½²è‡ªå·±çš„AIä»£ç† ](https://github.com/beidongjiedeguang/openai-forward)

